import{_ as p,C as h,o as r,c as l,ag as t,j as n,a as i,E as e}from"./chunks/framework.rAhUSuuf.js";const m=JSON.parse('{"title":"FutureOfVoidToJSPromise","description":"API documentation for FutureOfVoidToJSPromise extension from js_interop","frontmatter":{"title":"FutureOfVoidToJSPromise","description":"API documentation for FutureOfVoidToJSPromise extension from js_interop","category":"Extensions","library":"js_interop","sourceUrl":"https://github.com/dart-lang/sdk/blob/2da4111d8d0cbf2a83c0662251508f017000da8a/sdk/lib/js_interop/js_interop.dart#L854","outline":[2,3],"editLink":false,"prev":false,"next":false},"headers":[],"relativePath":"api/js_interop_js_interop/FutureOfVoidToJSPromise.md","filePath":"api/js_interop_js_interop/FutureOfVoidToJSPromise.md","lastUpdated":null}'),k={name:"api/js_interop_js_interop/FutureOfVoidToJSPromise.md"},o={id:"prop-tojs",tabindex:"-1"};function E(d,s,g,y,c,F){const a=h("Badge");return r(),l("div",null,[s[4]||(s[4]=t('<h1 id="futureofvoidtojspromise" tabindex="-1">FutureOfVoidToJSPromise <a class="header-anchor" href="#futureofvoidtojspromise" aria-label="Permalink to &quot;FutureOfVoidToJSPromise&quot;">​</a></h1><div class="member-signature"><pre><code><span class="kw">extension</span> <span class="fn">FutureOfVoidToJSPromise</span> <span class="kw">on</span> <a href="../Dart_dart-async/Future" class="type-link">Future</a>&lt;<span class="type">void</span>&gt;</code></pre></div><p>Conversions from <a href="/api/Dart_dart-async/Future.html">Future</a> to <a href="/api/js_interop_js_interop/JSPromise.html">JSPromise</a> where the <a href="/api/Dart_dart-async/Future.html">Future</a> does not return a value.</p><h2 id="section-properties" tabindex="-1">Properties <a class="header-anchor" href="#section-properties" aria-label="Permalink to &quot;Properties {#section-properties}&quot;">​</a></h2>',4)),n("h3",o,[s[0]||(s[0]=i("toJS ",-1)),e(a,{type:"info",text:"extension"}),s[1]||(s[1]=i()),e(a,{type:"tip",text:"no setter"}),s[2]||(s[2]=i()),s[3]||(s[3]=n("a",{class:"header-anchor",href:"#prop-tojs","aria-label":'Permalink to "toJS <Badge type="info" text="extension" /> <Badge type="tip" text="no setter" /> {#prop-tojs}"'},"​",-1))]),s[5]||(s[5]=t(`<div class="member-signature"><pre><code><a href="./JSPromise" class="type-link">JSPromise</a>&lt;<a href="./JSAny" class="type-link">JSAny</a>?&gt; <span class="kw">get</span> <span class="fn">toJS</span></code></pre></div><p>A <a href="/api/js_interop_js_interop/JSPromise.html">JSPromise</a> that either resolves once this <a href="/api/Dart_dart-async/Future.html">Future</a> completes or rejects with an object that contains its error.</p><p>The rejected object contains the original error as a <a href="/api/js_interop_js_interop/JSBoxedDartObject.html">JSBoxedDartObject</a> in the property <code>error</code> and the original stack trace as a <a href="/api/Dart_dart-core/String.html">String</a> in the property <code>stack</code>.</p><p><em>Available on <a href="/api/Dart_dart-async/Future.html">Future&lt;T&gt;</a>, provided by the <a href="/api/js_interop_js_interop/FutureOfVoidToJSPromise.html">FutureOfVoidToJSPromise</a> extension</em></p><details class="details custom-block"><summary>Implementation</summary><div class="language-dart vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSPromise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> toJS {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resolve, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reject) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (_) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resolve.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callAsFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resolve),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        onError</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">StackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stackTrace) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">47</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">47</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TODO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(srujzs)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Can</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> we </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> something better here</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> This</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pretty much</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">47</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">47</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; useless to the user unless they call a </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> callback that consumes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">47</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">47</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value and unboxes.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errorConstructor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalContext[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wrapper </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errorConstructor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callAsConstructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;Dart exception thrown from converted Future. Use the properties &quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                    &quot;&#39;error&#39; to fetch the boxed error and &#39;stack&#39; to recover &quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                    &quot;the stack trace.&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .toJS,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          wrapper[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error.toJSBox;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          wrapper[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;stack&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stackTrace.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().toJS;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          reject.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callAsFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reject, wrapper);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }.toJS,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></details>`,5))])}const C=p(k,[["render",E]]);export{m as __pageData,C as default};
